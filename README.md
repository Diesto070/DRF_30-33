## üéì –ü—Ä–æ–µ–∫—Ç: –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –æ–Ω–ª–∞–π–Ω-–æ–±—É—á–µ–Ω–∏—è

### üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
Django-–ø—Ä–æ–µ–∫—Ç –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã —Å REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫—É—Ä—Å–∞–º–∏ –∏ —É—Ä–æ–∫–∞–º–∏. –ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Django REST Framework –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è API –∏ –≤–∫–ª—é—á–∞–µ—Ç 
–∫–∞—Å—Ç–æ–º–Ω—É—é –º–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π –ø–æ email. –ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø–æ–ª–Ω—ã–π CRUD –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏.
1

### üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
* Python 3.13+
* Django 5.x
* Django REST Framework (DRF)
* PostgreSQL/SQLite (–Ω–∞ –≤—ã–±–æ—Ä)
* Postman –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API
* JWT –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
* Coverage –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–¥–∞ —Ç–µ—Å—Ç–∞–º–∏
* Celery –¥–ª—è —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á
* Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –±—Ä–æ–∫–µ—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
* Docker & Docker Compose
* GitHub Actions –¥–ª—è CI/CD
* Stripe –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π
* drf-yasg –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API

## üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –∏ –¥–µ–ø–ª–æ–π
### üìç –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É
* Ubuntu 20.04+ / Debian 10+

* –ú–∏–Ω–∏–º—É–º 2GB RAM

* 20GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ

* –ü—É–±–ª–∏—á–Ω—ã–π IP-–∞–¥—Ä–µ—Å

* –û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã: 22 (SSH), 80/443 (HTTP/HTTPS), 8000 (–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)

### üöÄ –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

–°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É, –ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –Ω–µ–π. –í —Ä–∞–º–∫–∞—Ö —É—á–µ–±–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ —Å–µ—Ä–≤–µ—Ä —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –Ω–∞ –±–∞–∑–µ –Ø–Ω–¥–µ–∫—Å.Cloud –ø–æ –∞–¥—Ä–µ—Å—É: http://158.160.92.14/

1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É    
    ```ssh diesto070@158.160.85.129```

2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ –ü–û
    ```
   # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
    sudo apt update && sudo apt upgrade -y
    
    # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker
    curl -fsSL https://get.docker.com -o get-docker.sh
    sudo sh get-docker.sh
    sudo usermod -aG docker $USER
    
    # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker Compose
    sudo curl -L "https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
    sudo chmod +x /usr/local/bin/docker-compose
    
    # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —É—Ç–∏–ª–∏—Ç
    sudo apt install -y git nginx python3-pip```


### üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è**
* Docker

* Docker Compose

* Git

### –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

```git clone https://github.com/Diesto070/DRF_30-33.git cd DRF_30-33.git``` 

2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```cp .env.example .env```

‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π—Ç–µ (–æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ) —Ñ–∞–π–ª .env –Ω–∞ –æ—Å–Ω–æ–≤–µ .env.example, —É–∫–∞–∑–∞–≤ —Å–≤–æ–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:
``docker-compose up --build``

***–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:*** –î–ª—è –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –≤—Ä–µ–º—è –Ω–∞ —Å–±–æ—Ä–∫—É –æ–±—Ä–∞–∑–æ–≤ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π.

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤:

```docker-compose ps```

4. –ü—Ä–æ–µ–∫—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:

- Django: http://localhost:8000

- API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: http://localhost:8000/swagger/

- –ê–¥–º–∏–Ω–∫–∞: http://localhost:8000/admin/

### üîß –°–µ—Ä–≤–∏—Å—ã
–ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 5 —Å–µ—Ä–≤–∏—Å–æ–≤:
1. Web (Django) - –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å–∫–∞–µ—Ç Django-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.
* –ü–æ—Ä—Ç: 8000

* URL: http://localhost:8000

* –ö–æ–º–∞–Ω–¥–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏: curl http://localhost:8000/

### –í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ web
```docker-compose exec web python manage.py [command]```

2. PostgreSQL (–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)
* –ü–æ—Ä—Ç: 5432

* –ü—Ä–æ–≤–µ—Ä–∫–∞: ```docker-compose exec postgres pg_isready -U postgres```

3. Redis (–ö—ç—à –∏ –±—Ä–æ–∫–µ—Ä –¥–ª—è Celery)
* –ü–æ—Ä—Ç: 6379

* –ü—Ä–æ–≤–µ—Ä–∫–∞: ```docker-compose exec redis redis-cli ping```

–î–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—Ç–∏—Ç—å: –ü–û–ù–ì

4. Celery (–§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏)
–ü—Ä–æ–≤–µ—Ä–∫–∞: ```docker-compose exec celery celery -A config status```

5. Celery Beat (–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á)
–ü—Ä–æ–≤–µ—Ä–∫–∞: ```docker-compose logs celery-beat```

## üõ† –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ó–∞–ø—É—Å–∫ –∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–∞

    # –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
    docker-compose up -d
    
    # –û—Å—Ç–∞–Ω–æ–≤–∫–∞
    docker-compose down
    
    # –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
    docker-compose up --build -d
    
    # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö
    docker-compose restart
    
    # –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
    docker-compose logs -f [service_name]

### üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
#### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
#### –í—Å–µ –ª–æ–≥–∏
    docker-compose logs

#### –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
    docker-compose logs web
    docker-compose logs postgres
    docker-compose logs celery

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–∏

#### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
    docker-compose exec web ping postgres
    docker-compose exec web ping redis

### üóëÔ∏è –û—á–∏—Å—Ç–∫–∞
#### –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
    docker-compose down

##### –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Å volumes
    docker-compose down -v

### üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
**–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**

- Swagger UI: http://localhost:8000/swagger/

- ReDoc: http://localhost:8000/redoc/


## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è
1. **users** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
    - –ú–æ–¥–µ–ª—å –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (User)
      - –ö–∞—Å—Ç–æ–º–Ω–∞—è –º–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π –ø–æ email
      - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è: —Ç–µ–ª–µ—Ñ–æ–Ω, –≥–æ—Ä–æ–¥, –∞–≤–∞—Ç–∞—Ä
      
    - –ú–æ–¥–µ–ª—å –ü–ª–∞—Ç–µ–∂–∏ (Payments)
      - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å,
      - –¥–∞—Ç–∞ –æ–ø–ª–∞—Ç—ã,
      - –æ–ø–ª–∞—á–µ–Ω–Ω—ã–π –∫—É—Ä—Å –∏–ª–∏ —É—Ä–æ–∫,
      - —Å—É–º–º–∞ –æ–ø–ª–∞—Ç—ã,
      - —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã: –Ω–∞–ª–∏—á–Ω—ã–µ, –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞ —Å—á–µ—Ç –∏–ª–∏ –æ–Ω–ª–∞–π–Ω-–æ–ø–ª–∞—Ç–∞.
      - Id —Å–µ—Å—Å–∏–∏,
      - –°—Å—ã–ª–∫–∞ –Ω–∞ –æ–ø–ª–∞—Ç—É
   

2. **materials (–∏–ª–∏ lms)** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º

   - –ú–æ–¥–µ–ª—å –ö—É—Ä—Å–∞ (Course)

   - –ú–æ–¥–µ–ª—å –£—Ä–æ–∫–∞ (Lesson)

   - –°–≤—è–∑—å "–æ–¥–∏–Ω –∫–æ –º–Ω–æ–≥–∏–º" –º–µ–∂–¥—É –∫—É—Ä—Å–æ–º –∏ —É—Ä–æ–∫–∞–º–∏
   
   - –ú–æ–¥–µ–ª—å –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∫—É—Ä—Å (Subscription)


### 3. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è API
### –î–ª—è –∫—É—Ä—Å–æ–≤ (Course):
   * –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω ViewSet –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ CRUD
   * –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –æ–ø–µ—Ä–∞—Ü–∏–∏:
     * –°–æ–∑–¥–∞–Ω–∏–µ
     * –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –∏ —Å–≤–µ–¥–µ–Ω–∏–π
     * –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
     * –£–¥–∞–ª–µ–Ω–∏–µ
   * –°–æ–∑–¥–∞–Ω—ã —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã:
     * CourseSerializer
     * CourseDetailSerializer,–æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤—ã–≤–æ–¥–∏—Ç: 
       * –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Ä–æ–∫–æ–≤ –≤ –∫—É—Ä—Å–µ ```count_lessons```
       * –ü–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –≤—Å–µ–º —É—Ä–æ–∫–∞–º –∫—É—Ä—Å–∞ ```lessons```

### –î–ª—è —É—Ä–æ–∫–æ–≤ (Lesson):
  * –ü—Ä–∏–º–µ–Ω–µ–Ω—ã Generic-–∫–ª–∞—Å—Å—ã
  * –ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä CRUD-–æ–ø–µ—Ä–∞—Ü–∏–π
  * –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä

### –î–ª—è –ø–ª–∞—Ç–µ–∂–µ–π (Payments):
    * –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–ª—è —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ –ø–ª–∞—Ç–µ–∂–µ–π —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏:
      * –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ –æ–ø–ª–∞—Ç—ã (asc/desc)      
      * –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫—É—Ä—Å—É       
      * –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —É—Ä–æ–∫—É
      * –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å–ø–æ—Å–æ–±—É –æ–ø–ª–∞—Ç—ã
* **–ü–æ–¥–∫–ª—é—á–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–ø–ª–∞—Ç—ã –∫—É—Ä—Å–æ–≤** —á–µ—Ä–µ–∑ https://stripe.com/docs/api.



### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (User):
* –†–∞—Å—à–∏—Ä–µ–Ω —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –≤—ã–≤–æ–¥–∞ –∏—Å—Ç–æ—Ä–∏–∏ –ø–ª–∞—Ç–µ–∂–µ–π

* –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω CRUD –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –≤ —Ç–æ–º —á–∏—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
* –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ JWT-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
* –ó–∞–∫—Ä—ã—Ç –∫–∞–∂–¥—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π (–∫—Ä–æ–º–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏).

### **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**

* –ó–∞–≤–µ–¥–µ–Ω–∞ –≥—Ä—É–ø–ø–∞ –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–≤ —Å –ø—Ä–∞–≤–∞–º–∏ —Ä–∞–±–æ—Ç—ã —Å –ª—é–±—ã–º–∏ —É—Ä–æ–∫–∞–º–∏ –∏ –∫—É—Ä—Å–∞–º–∏ (–±–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —É–¥–∞–ª—è—Ç—å –∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å).

* –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –≤–∏–¥–µ—Ç—å, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ —É–¥–∞–ª—è—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –∫—É—Ä—Å—ã –∏ —É—Ä–æ–∫–∏.

* –í–∞–ª–∏–¥–∞—Ç–æ—Ä –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Å—ã–ª–æ–∫ –Ω–∞ –≤–∏–¥–µ–æ (–∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä).

* –≠–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ –Ω–∞ –∫—É—Ä—Å—ã.

* –ü–∞–≥–∏–Ω–∞—Ü–∏—è –¥–ª—è –≤—ã–≤–æ–¥–∞ –≤—Å–µ—Ö —É—Ä–æ–∫–æ–≤ –∏ –∫—É—Ä—Å–æ–≤.

* –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–µ—Ç–æ–¥–∞ ```setUp``` –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

* –ü–æ–¥–∫–ª—é—á–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤—ã–≤–æ–¥ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞. –î–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π –ø—Ä–æ–µ–∫—Ç–∞ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π ```drf-yasg```.

* –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ —Å Celery –∏ celery-beat –¥–ª—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á

* –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞ –ø–∏—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –æ–± –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –∫—É—Ä—Å–∞.

* –§–æ–Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞ –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–Ω–µ –∑–∞—Ö–æ–¥–∏–ª–∏ –±–æ–ª–µ–µ –º–µ—Å—è—Ü–∞). –ø–æ –¥–∞—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤—Ö–æ–¥–∞ –ø–æ –ø–æ–ª—é ```last_login``` –∏, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–∞—Ö–æ–¥–∏–ª –±–æ–ª–µ–µ –º–µ—Å—è—Ü–∞, –±–ª–æ–∫–∏—Ä—É–µ—Ç –µ–≥–æ —Å –ø–æ–º–æ—â—å—é —Ñ–ª–∞–≥–∞ ```is_active```.

### 4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
* –í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã —á–µ—Ä–µ–∑ Postman
* –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏
* –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã —Å–≤—è–∑–∏ –º–µ–∂–¥—É –º–æ–¥–µ–ª—è–º–∏

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ

#### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
```
# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
sudo mkdir -p /var/www/drf-online-platform
sudo chown -R $USER:$USER /var/www/drf-online-platform
cd /var/www/drf-online-platform

# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
git clone https://github.com/Diesto070/DRF_30-33.git .
# –ò–ª–∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ scp/sftp

# –°–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞
cp .env.example .env
nano .env  # –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```
#### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env —Ñ–∞–π–ª–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

```
# .env —Ñ–∞–π–ª –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
DEBUG=False
SECRET_KEY=–≤–∞—à-–æ—á–µ–Ω—å-—Å–ª–æ–∂–Ω—ã–π-—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-–∫–ª—é—á-–∑–¥–µ—Å—å
ALLOWED_HOSTS=–≤–∞—à-–¥–æ–º–µ–Ω.—Ä—É,–≤–∞—à-ip-–∞–¥—Ä–µ—Å,localhost,127.0.0.1

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
DATABASE_URL=postgresql://postgres:password@postgres:5432/drf_db

# Redis
REDIS_URL=redis://redis:6379/0

# Celery
CELERY_BROKER_URL=redis://redis:6379/1
CELERY_RESULT_BACKEND=redis://redis:6379/2

# Email (–¥–ª—è —Ä–∞—Å—Å—ã–ª–æ–∫)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_HOST_USER=–≤–∞—à-email@gmail.com
EMAIL_HOST_PASSWORD=–≤–∞—à-–ø–∞—Ä–æ–ª—å-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
EMAIL_USE_TLS=True
DEFAULT_FROM_EMAIL=–≤–∞—à-email@gmail.com

# Stripe (–¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π)
STRIPE_SECRET_KEY=–≤–∞—à-stripe-—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-–∫–ª—é—á
STRIPE_PUBLIC_KEY=–≤–∞—à-stripe-–ø—É–±–ª–∏—á–Ω—ã–π-–∫–ª—é—á
```

## üê≥ –î–µ–ø–ª–æ–π —Å Docker Compose
#### 1. –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
```
cd /var/www/drf-online-platform

# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤
docker-compose build

# –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker-compose ps

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f web
```

#### 2. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π –∏ —Å–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```
# –ú–∏–≥—Ä–∞—Ü–∏–∏
docker-compose exec web python manage.py migrate

# –°–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
docker-compose exec web python manage.py createsuperuser

# –°–±–æ—Ä–∫–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
docker-compose exec web python manage.py collectstatic --no-input
```
## üì¶ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π —Å GitHub Actions
–í–∞—à –ø—Ä–æ–µ–∫—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è CI/CD. –î–ª—è —Ä–∞–±–æ—Ç—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:

#### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ GitHub
–í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (Settings ‚Üí Secrets and variables ‚Üí Actions) –¥–æ–±–∞–≤—å—Ç–µ:

* DOCKER_HUB_USERNAME - –≤–∞—à –ª–æ–≥–∏–Ω –Ω–∞ Docker Hub

* DOCKER_HUB_ACCESS_TOKEN - —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ –∫ Docker Hub

* SERVER_IP - IP-–∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

* SSH_USER_SERVER - –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è SSH (–æ–±—ã—á–Ω–æ ubuntu –∏–ª–∏ debian)

* SSH_PRIVATE_KEY - –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á SSH –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É

* SECRET_KEY - —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á Django

* DATABASE_URL - —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î

* REDIS_URL - —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Redis

* STRIPE_SECRET_KEY - –∫–ª—é—á Stripe

### üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫
#### 1. –ü–æ—Ä—Ç —É–∂–µ –∑–∞–Ω—è—Ç

```
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–Ω—è—Ç—ã—Ö –ø–æ—Ä—Ç–æ–≤
sudo netstat -tulpn | grep :80
sudo netstat -tulpn | grep :8000

# –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø–æ—Ä—Ç–∞
sudo fuser -k 80/tcp
```

#### 2. –ü—Ä–æ–±–ª–µ–º—ã —Å Docker

```
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Docker
sudo systemctl restart docker

# –û—á–∏—Å—Ç–∫–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
docker system prune -a
```

#### 3. –ü—Ä–æ–±–ª–µ–º—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
```
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
docker-compose exec postgres pg_isready -U postgres

# –°–±—Ä–æ—Å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!)
docker-compose down -v
docker-compose up -d
```

### üîê –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
#### 1. –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ —Å–∏—Å—Ç–µ–º—É
```
sudo apt update && sudo apt upgrade -y
–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ñ–∞–µ—Ä–≤–æ–ª
```
#### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ñ–∞–µ—Ä–≤–æ–ª
```
sudo ufw allow 22/tcp
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp
sudo ufw allow 8000/tcp
sudo ufw enable
```
### üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞
–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: ```docker-compose logs```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤: ```docker-compose ps```

3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø–æ—Ä—Ç—ã –æ—Ç–∫—Ä—ã—Ç—ã: ```sudo netstat -tulpn```

4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ ```.env``` —Ñ–∞–π–ª–µ

### üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞
–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –≤ —Ä–∞–º–∫–∞—Ö —É—á–µ–±–Ω–æ–≥–æ –∫—É—Ä—Å–∞. –î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ Issues –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.

**–ê–≤—Ç–æ—Ä:** Diesto070

**GitHub:** [Diesto070](https://github.com/Diesto070)
